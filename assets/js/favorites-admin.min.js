!function(s){var i=window.MutationObserver||window.WebKitMutationObserver;s.fn.attrchange=function(t,e){var o,n,a;return"object"==typeof t?(o={trackValues:!1,callback:s.noop},"function"==typeof t?o.callback=t:s.extend(o,t),o.trackValues&&this.each(function(t,e){for(var o,n={},t=0,a=e.attributes,i=a.length;t<i;t++)n[(o=a.item(t)).nodeName]=o.value;s(this).data("attr-old-value",n)}),i?(n={subtree:!1,attributes:!0,attributeOldValue:o.trackValues},a=new i(function(t){t.forEach(function(t){var e=t.target;o.trackValues&&(t.newValue=s(e).attr(t.attributeName)),"connected"===s(e).data("attrchange-status")&&o.callback.call(e,t)})}),this.data("attrchange-method","Mutation Observer").data("attrchange-status","connected").data("attrchange-obs",a).each(function(){a.observe(this,n)})):function(){var t=document.createElement("p"),e=!1;if(t.addEventListener)t.addEventListener("DOMAttrModified",function(){e=!0},!1);else{if(!t.attachEvent)return;t.attachEvent("onDOMAttrModified",function(){e=!0})}return t.setAttribute("id","target"),e}()?this.data("attrchange-method","DOMAttrModified").data("attrchange-status","connected").on("DOMAttrModified",function(t){(t=t.originalEvent?t.originalEvent:t).attributeName=t.attrName,t.oldValue=t.prevValue,"connected"===s(this).data("attrchange-status")&&o.callback.call(this,t)}):"onpropertychange"in document.body?this.data("attrchange-method","propertychange").data("attrchange-status","connected").on("propertychange",function(t){t.attributeName=window.event.propertyName,function(t,e){var o;t&&(t=this.data("attr-old-value"),0<=e.attributeName.indexOf("style")?(t.style||(t.style={}),o=e.attributeName.split("."),e.attributeName=o[0],e.oldValue=t.style[o[1]],e.newValue=o[1]+":"+this.prop("style")[s.camelCase(o[1])],t.style[o[1]]=e.newValue):(e.oldValue=t[e.attributeName],e.newValue=this.attr(e.attributeName),t[e.attributeName]=e.newValue),this.data("attr-old-value",t))}.call(s(this),o.trackValues,t),"connected"===s(this).data("attrchange-status")&&o.callback.call(this,t)}):this):"string"==typeof t&&s.fn.attrchange.hasOwnProperty("extensions")&&s.fn.attrchange.extensions.hasOwnProperty(t)?s.fn.attrchange.extensions[t].call(this,e):void 0}}(jQuery);var FavoritesAdmin=FavoritesAdmin||{};FavoritesAdmin.Settings=function(){var a=this,i=jQuery;return a.bindEvents=function(){i(document).ready(function(){a.toggleButtonTypes(),a.toggleAnonymousSave(),a.toggleLoadingTypeLoad(),a.toggleAnonymousSettings(),a.toggleCustomColorOptions(),a.enableColorPickers(),a.toggleButtonPreviewColors(),a.toggleCountOptions(),a.toggleModalConsentContent(),i.each(i("[data-favorites-dependency-checkbox]"),function(){var t=i(this).parents(".field");a.toggleDependencyContent(t)}),i(".wp-color-result").attrchange({callback:function(){a.toggleButtonPreviewColors()}})}),i(document).on("change","[data-favorites-dependency-checkbox]",function(){var t=i(this).parents(".field");a.toggleDependencyContent(t)}),i(document).on("change","*[data-favorites-anonymous-checkbox]",function(){a.toggleAnonymousSave(),a.toggleAnonymousSettings()}),i(document).on("change","[data-favorites-anonymous-settings]",function(){a.toggleAnonymousSettings(i(this))}),i(document).on("change","*[data-favorites-posttype-checkbox]",function(){a.togglePostTypeOptionsButtons()}),i(document).on("click","[data-favorites-toggle-post-type-settings]",function(t){t.preventDefault(),a.togglePostTypeOptions(i(this))}),i(document).on("change","[data-favorites-spinner-type]",function(){a.toggleLoadingType(i(this))}),i(document).on("change","[data-favorites-preset-button-select]",function(){a.toggleButtonTypes()}),i(document).on("click","[data-favorites-button-preview]",function(t){t.preventDefault(),a.togglePreviewButtonState(i(this))}),i(document).on("change","[data-favorites-include-count-checkbox]",function(){a.toggleCountOptions()}),i(document).on("change","[data-favorites-custom-colors-checkbox]",function(){a.toggleCustomColorOptions()}),i(document).on("change","[data-favorites-button-shadow]",function(){a.toggleButtonPreviewColors()}),i(document).on("change","[data-favorites-color-picker]",function(){a.toggleButtonPreviewColors()}),i(document).on("change","[data-favorites-require-consent-checkbox]",function(){a.toggleModalConsentContent()})},a.togglePostTypeOptions=function(t){i(t).parents(".post-type-row").find(".post-type-settings").toggle(),i(t).toggleClass("button-primary")},a.togglePostTypeOptionsButtons=function(){var t=i("[data-favorites-posttype-checkbox]");i.each(t,function(){var t=!!i(this).is(":checked"),e=i(this).parents(".post-type-row"),o=i(e).find("[data-favorites-toggle-post-type-settings]");t?i(o).show():(i(o).hide(),i(e).find(".post-type-settings").hide())})},a.toggleDependencyContent=function(t){i(t).find("[data-favorites-dependency-checkbox]").is(":checked")?i(t).find("[data-favorites-dependency-content]").hide():i(t).find("[data-favorites-dependency-content]").show()},a.toggleAnonymousSave=function(){i("[data-favorites-anonymous-checkbox]").is(":checked")?(i("[data-favorites-anonymous-count]").show(),i("[data-favorites-require-login]").hide().find('input[type="checkbox"]').attr("checked",!1)):(i("[data-favorites-anonymous-count]").hide().find('input[type="checkbox"]').attr("checked",!1),i("[data-favorites-require-login]").show())},a.toggleAnonymousSettings=function(t){void 0!==t&&""!==t||(e=i("[data-favorites-anonymous-settings]"),i.each(e,function(){a.toggleAnonymousSettings(i(this))}));var e=i(t).attr("data-favorites-anonymous-settings");"modal"===e&&i(t).is(":checked")?(i("[data-favorites-authentication-modal-content]").show(),i("[data-favorites-anonymous-redirect-content]").hide(),i('[data-favorites-anonymous-settings="redirect"]').attr("checked",!1)):"redirect"===e&&i(t).is(":checked")?(i("[data-favorites-anonymous-redirect-content]").show(),i("[data-favorites-authentication-modal-content]").hide(),i('[data-favorites-anonymous-settings="modal"]').attr("checked",!1)):(i('[data-favorites-anonymous-settings="redirect"]').is(":checked")||i("[data-favorites-anonymous-redirect-content]").hide(),i('[data-favorites-anonymous-settings="modal"]').is(":checked")||i("[data-favorites-authentication-modal-content]").hide())},a.toggleLoadingTypeLoad=function(){var t=i('[data-favorites-spinner-type="image"]');(i(t).is(":checked")?i('[data-favorites-spinner-type="html"]'):i('[data-favorites-spinner-type="image"]')).attr("checked",!1)},a.toggleLoadingType=function(t){("image"===i(t).attr("data-favorites-spinner-type")?i('[data-favorites-spinner-type="html"]'):i('[data-favorites-spinner-type="image"]')).attr("checked",!1)},a.togglePreviewButtonState=function(t){i(t).toggleClass("active");var e=i(t).attr("data-favorites-button-icon"),o=i(t).attr("data-favorites-button-active-content"),n=i(t).attr("data-favorites-button-default-content"),e=e+" "+(i(t).hasClass("active")?o:n);i("[data-favorites-include-count-checkbox]").is(":checked")&&(e+=' <span class="simplefavorite-button-count">2</span>'),i(t).html(e),setTimeout(function(){a.toggleButtonPreviewColors()},10)},a.toggleButtonTypes=function(){var t=i("[data-favorites-preset-button-select]").val(),e=i("[data-favorites-preset-button-previews]"),o=i("[data-favorites-button-preview]"),n=i("[data-favorites-custom-button-option]");("custom"===t?(i(e).hide(),i(n)):(i(n).hide(),i(o).hide(),i(e).show(),i('[data-favorites-button-preview="'+t+'"]'))).show()},a.toggleCustomColorOptions=function(){var t=!!i("[data-favorites-custom-colors-checkbox]").is(":checked");a.toggleButtonPreviewColors(),t?i("[data-favorites-custom-colors-options]").show():i("[data-favorites-custom-colors-options]").hide()},a.enableColorPickers=function(){i("[data-favorites-color-picker]").wpColorPicker({change:function(t,e){setTimeout(function(){a.toggleButtonPreviewColors()},10)}})},a.toggleButtonPreviewColors=function(){var t,e=i("[data-favorites-button-preview]"),o=i("[data-favorites-button-preview]:visible");i("[data-favorites-custom-colors-checkbox]").is(":checked")?(t=i("[data-favorites-button-shadow]").is(":checked")?"":"none",i(e).css("box-shadow",t),t=i(o).hasClass("active")?"_active":"_default",i(e).css("background-color",a.getCurrentColor("background"+t)),i(e).css("border-color",a.getCurrentColor("border"+t)),i(e).css("color",a.getCurrentColor("text"+t)),i(e).find("i").css("color",a.getCurrentColor("icon"+t)),i(e).find(".simplefavorite-button-count").css("color",a.getCurrentColor("count"+t))):(i(e).removeAttr("style"),a.toggleButtonTypes())},a.getCurrentColor=function(t){t=i('[data-favorites-color-picker="'+t+'"]');return value=i(t).val()},a.toggleCountOptions=function(){!i("[data-favorites-include-count-checkbox]").is(":checked")?(i(".simplefavorite-button-count").hide(),i('[data-favorites-color-option="count_default"]').hide(),i('[data-favorites-color-option="count_active"]').hide()):(i(".simplefavorite-button-count").show(),i('[data-favorites-color-option="count_default"]').show(),i('[data-favorites-color-option="count_active"]').show())},a.toggleModalConsentContent=function(){!i("[data-favorites-require-consent-checkbox]").is(":checked")?i("[data-favorites-require-consent-modal-content]").hide():i("[data-favorites-require-consent-modal-content]").show()},a.bindEvents()},(FavoritesAdmin=FavoritesAdmin||{}).ListingCustomizer=function(){var e=this,o=jQuery;return e.bindEvents=function(){o(document).ready(function(){e.toggleListingCustomizer()}),o(document).on("change","[data-favorites-listing-customizer-checkbox]",function(){e.toggleListingCustomizer()}),o(document).on("click","[data-favorites-listing-customizer-variable-button]",function(t){t.preventDefault(),e.addFieldToEditor(o(this))})},e.toggleListingCustomizer=function(){o("[data-favorites-listing-customizer-checkbox]").is(":checked")?o("[data-favorites-listing-customizer]").show():o("[data-favorites-listing-customizer]").hide()},e.addFieldToEditor=function(t){t=o(t).siblings("select").val();tinymce.activeEditor.execCommand("mceInsertContent",!1,t)},e.bindEvents()},jQuery(document).ready(function(){new FavoritesAdmin.Factory}),(FavoritesAdmin=FavoritesAdmin||{}).selectors={},FavoritesAdmin.cssClasses={},FavoritesAdmin.jsData={},FavoritesAdmin.formActions={},FavoritesAdmin.Factory=function(){jQuery;return this.build=function(){new FavoritesAdmin.Settings,new FavoritesAdmin.ListingCustomizer},this.build()};